<section class="overflow-hidden relative">
  <app-circle-sidebar class="hidden md:block"></app-circle-sidebar>
  <!-- Hero Section - Background image always visible for LCP optimization -->
  <section class="bg-linear h-[80vh]! lg:h-screen! relative">
    <!-- LCP Background Image - Always rendered for optimal performance -->
    <div class="hero-lcp-container overflow-hidden h-[80vh] lg:h-screen w-full relative">
      <!-- GIF Video - Background layer - Hidden on mobile, visible on desktop -->
      <video src="/images/hero/gif.mp4" 
        autoplay 
        loop 
        muted 
        playsinline
        preload="metadata"
        poster="/images/hero/hero.webp"
        class="hero-gif-video hidden md:block"
        width="1920" 
        height="1080"
        aria-hidden="true">
      </video>
      <!-- Hero Image - Visible on mobile, hidden on desktop -->
      <img src="/images/hero/hero.webp" alt="ابتكارات تسويقية رقمية تصنع الفرق لشركتك" class="hero-lcp-image block md:hidden"
        width="1920" height="1080" fetchpriority="high" loading="eager" decoding="sync" />
      <div class="container h-full mx-auto px-5 lg:px-20 relative z-10">
        <div class="hero-content relative h-full w-full flex items-center justify-between" dir="rtl">
          <div>
            <!-- H1 always rendered for LCP optimization - shows default text immediately -->
            <h1 class="text-3xl md:text-5xl font-semibold text-white  max-w-sm lg:max-w-xl">
              {{ heroSection()?.title || 'ابتكارات تسويقية رقمية تصنع الفرق لشركتك' }}
            </h1>
            @if (!heroSection()) {
              <!-- Skeleton button while loading -->
              <div class="hero-skeleton mt-6">
                <p-skeleton width="200px" height="50px" styleClass="rounded-full"></p-skeleton>
              </div>
            } @else {
              @if (heroSection()!.input_title) {
              <app-app-button [btnText]="'ابتكار يصنع كفائتنا'"
                customClass="px-7 py-4 bg-black/60 text-white rounded-full flex items-center justify-center transition duration-300 mt-6">
              </app-app-button>
              }
            }
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Home Banner -->
  @if (!heroSection()) {
  <div class="translate-y-60 md:translate-y-40 min-h-[80px] hero-banner-skeleton relative z-20">
    <p-skeleton width="100%" height="80px" styleClass="rounded-lg"></p-skeleton>
  </div>
  } @else {
  <app-home-banner class="translate-y-60 md:translate-y-40 relative z-20"
    [scrollTitle]="heroSection()!.scroll_title"></app-home-banner>
  }
  <!-- about   -->
  @if (!isAboutLoaded()) {
  <section class="container mx-auto px-5 lg:px-20 py-20 lg:min-h-[100vh]">
    <div class="flex justify-between items-center min-h-[60px] mb-10">
      <p-skeleton width="200px" height="40px" styleClass="rounded-lg"></p-skeleton>
      <p-skeleton width="150px" height="30px" styleClass="rounded-lg"></p-skeleton>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 items-start mt-10 min-h-[500px] gap-10">
      <div class="min-h-[400px]">
        <p-skeleton width="100%" height="80px" styleClass="mb-6 rounded-lg"></p-skeleton>
        <div class="flex items-center justify-start mt-10 min-h-[200px]">
          @for (i of [1,2,3]; track i) {
          <p-skeleton [shape]="'circle'" width="140px" height="140px" styleClass="m-6"></p-skeleton>
          }
        </div>
      </div>
      <div class="ms-auto min-h-[500px] min-w-[500px]">
        <p-skeleton width="500px" height="500px" styleClass="rounded-lg"></p-skeleton>
      </div>
    </div>
  </section>
  } @else {
  <app-home-about [aboutData]="aboutHome()"></app-home-about>
  }
  <!-- clients & parteners banners   -->
  @if (!isBannersLoaded()) {
  <section class="min-h-[400px] section-pattern section-pattern-right">
    <div class="mb-20 w-full min-h-[200px]">
      <div class="container mx-auto px-5 lg:px-20 min-h-[60px]">
        <p-skeleton width="200px" height="40px" styleClass="rounded-lg"></p-skeleton>
      </div>
      <div class="w-full min-h-[120px] mt-10">
        <p-skeleton width="95%" height="120px" styleClass="rounded-l-full"></p-skeleton>
      </div>
    </div>
    <div class="mb-20 pb-20 w-full min-h-[200px]">
      <div class="container mx-auto px-5 lg:px-20 min-h-[60px]">
        <p-skeleton width="200px" height="40px" styleClass="rounded-lg"></p-skeleton>
      </div>
      <div class="w-full overflow-hidden pb-10 min-h-[120px] mt-10">
        <p-skeleton width="95%" height="120px" styleClass="rounded-r-full"></p-skeleton>
      </div>
    </div>
  </section>
  } @else {
  <app-home-banners-sec class=""></app-home-banners-sec>
  }
  <!-- services   -->
  @if (!isServicesLoaded()) {
  <section class="min-h-[1200px]">
    <div class="flex justify-center mb-20 min-h-[60px]">
      <p-skeleton width="200px" height="40px" styleClass="rounded-lg"></p-skeleton>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-5 container mx-auto px-5 lg:px-20 gap-10 min-h-[1000px]">
      <div class="col-span-1 lg:col-span-2 flex flex-col items-center lg:items-end gap-10">
        <p-skeleton width="100%" height="400px" styleClass="rounded-2xl"></p-skeleton>
        <p-skeleton width="100%" height="250px" styleClass="rounded-lg"></p-skeleton>
        <p-skeleton width="100%" height="400px" styleClass="rounded-2xl"></p-skeleton>
        <p-skeleton width="100%" height="250px" styleClass="rounded-lg"></p-skeleton>
      </div>
      <div class="hidden lg:flex lg:col-span-1 flex-col items-center h-full relative">
        <p-skeleton width="2px" height="100%" styleClass="rounded-full"></p-skeleton>
      </div>
      <div class="col-span-1 lg:col-span-2 flex flex-col items-center lg:items-start gap-10">
        <p-skeleton width="100%" height="250px" styleClass="rounded-lg"></p-skeleton>
        <p-skeleton width="100%" height="400px" styleClass="rounded-2xl"></p-skeleton>
        <p-skeleton width="100%" height="250px" styleClass="rounded-lg"></p-skeleton>
        <p-skeleton width="100%" height="400px" styleClass="rounded-2xl"></p-skeleton>
      </div>
    </div>
    <div class="flex justify-center mt-20">
      <p-skeleton width="200px" height="50px" styleClass="rounded-full"></p-skeleton>
    </div>
  </section>
  } @else {
  <app-home-services [services]="services()"></app-home-services>
  }
  <!-- projects   -->
  @if (!isProjectsLoaded()) {
  <section class="container mx-auto px-5 lg:px-20 py-20 min-h-[800px] section-pattern section-pattern-left">
    <div class="flex justify-start mb-20 min-h-[60px]">
      <p-skeleton width="200px" height="40px" styleClass="rounded-lg"></p-skeleton>
    </div>
    <div class="hidden lg:flex flex-col gap-10 relative min-h-[80vh] pt-30 lg:mx-30 my-10">
      @for (i of [1,2,3]; track i) {
      <div class="absolute flex justify-between items-center rounded-3xl p-8 px-10 min-h-[300px] w-full">
        <p-skeleton width="25%" height="300px" styleClass="rounded-lg"></p-skeleton>
        <div class="w-3/4 flex flex-col gap-4">
          <p-skeleton width="60%" height="30px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="80%" height="40px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="100%" height="100px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="200px" height="30px" styleClass="rounded-lg"></p-skeleton>
        </div>
      </div>
      }
    </div>
    <div class="flex lg:hidden flex-col gap-6 my-10 min-h-[600px]">
      @for (i of [1,2,3]; track i) {
      <div class="flex flex-col md:flex-row justify-between items-center rounded-3xl p-6 bg-white shadow-lg min-h-[200px]">
        <p-skeleton width="200px" height="200px" styleClass="rounded-lg"></p-skeleton>
        <div class="w-full md:w-3/4 p-4 flex flex-col gap-4">
          <p-skeleton width="60%" height="24px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="80%" height="28px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="100%" height="80px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="180px" height="24px" styleClass="rounded-lg"></p-skeleton>
        </div>
      </div>
      }
    </div>
    <div class="flex justify-center mt-20">
      <p-skeleton width="200px" height="50px" styleClass="rounded-full"></p-skeleton>
    </div>
  </section>
  } @else {
  <app-home-projects [projects]="projects()"></app-home-projects>
  }
  <!-- booking an appointments   -->
  @if (!isBookingLoaded()) {
  <section class="py-20 bg-booking flex items-center justify-center min-h-[500px]">
    <div class="container mx-auto px-5 lg:px-20 flex items-center justify-center flex-col text-center relative z-10 min-h-[500px]">
      <p-skeleton width="400px" height="60px" styleClass="rounded-lg mb-20"></p-skeleton>
      <p-skeleton width="250px" height="50px" styleClass="rounded-full"></p-skeleton>
    </div>
  </section>
  } @else {
  <app-home-booking [ctasection]="ctasection()"></app-home-booking>
  }
  <!-- clients review   -->
  @if (!isTestimonialsLoaded()) {
  <section class="my-20 bg-client-linear min-h-[400px] section-pattern section-pattern-right">
    <div class="bg-clients flex items-center justify-center flex-col text-center min-h-[400px]">
      <div class="container mx-auto px-5 lg:px-20 min-h-[400px]">
        <p-skeleton width="200px" height="40px" styleClass="rounded-lg mx-auto mb-10"></p-skeleton>
        <div class="w-full flex items-center justify-center gap-2 my-10 min-h-[120px]">
          @for (i of [1,2,3]; track i) {
          <p-skeleton [shape]="'circle'" width="128px" height="128px" styleClass=""></p-skeleton>
          }
        </div>
        <p-skeleton width="80%" height="80px" styleClass="rounded-lg mx-auto mb-5"></p-skeleton>
        <div class="flex items-center justify-center my-5 gap-1 min-h-[40px]">
          @for (i of [1,2,3,4,5]; track i) {
          <p-skeleton width="20px" height="20px" styleClass="rounded"></p-skeleton>
          }
        </div>
        <p-skeleton width="300px" height="50px" styleClass="rounded-lg mx-auto mt-10"></p-skeleton>
        <p-skeleton width="200px" height="30px" styleClass="rounded-lg mx-auto mt-2"></p-skeleton>
      </div>
    </div>
  </section>
  } @else {
  <app-home-clients-review [testimonials]="testimonials()"></app-home-clients-review>
  }
  <!-- blogs   -->
  @if (!isBlogsLoaded()) {
  <section class="container mx-auto px-5 lg:px-20 py-20 text-[#440000] min-h-[600px]">
    <div class="flex justify-start mb-10 min-h-[60px]">
      <p-skeleton width="200px" height="40px" styleClass="rounded-lg"></p-skeleton>
    </div>
    <div class="flex flex-col lg:flex-row justify-center mt-4 gap-6 items-start min-h-[500px]">
      @for (i of [1,2,3]; track i) {
      <div class="w-full lg:w-1/4 min-h-[500px]">
        <p-skeleton width="100%" height="40vh" styleClass="rounded-3xl mb-4"></p-skeleton>
        <p-skeleton width="60%" height="24px" styleClass="rounded-lg mb-2"></p-skeleton>
        <p-skeleton width="100%" height="60px" styleClass="rounded-lg"></p-skeleton>
      </div>
      }
    </div>
    <div class="flex justify-center mt-20">
      <p-skeleton width="200px" height="50px" styleClass="rounded-full"></p-skeleton>
    </div>
  </section>
  } @else {
  <app-home-blogs [blogs]="blogs()"></app-home-blogs>
  }
  <!-- contact-us - Show skeleton until all data is loaded -->
  @if (!isAllDataLoaded()) {
  <!-- Contact Section Skeleton -->
  <section class="container mx-auto px-5 lg:px-20 py-20 min-h-[600px]">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-stretch min-h-[600px]">
      <!-- Right Side - Contact Form Skeleton -->
      <div class="flex flex-col h-full min-h-[600px]">
        <p-skeleton width="200px" height="40px" styleClass="rounded-lg mb-4"></p-skeleton>
        <p-skeleton width="80%" height="30px" styleClass="rounded-lg mb-8"></p-skeleton>
        <div class="flex flex-col gap-6 flex-1">
          <p-skeleton width="100%" height="60px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="100%" height="60px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="100%" height="60px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="100%" height="150px" styleClass="rounded-lg"></p-skeleton>
          <p-skeleton width="200px" height="50px" styleClass="rounded-full mt-4"></p-skeleton>
        </div>
      </div>
      <!-- Left Side - Map Skeleton -->
      <div class="h-full rounded-2xl overflow-hidden min-h-[600px]">
        <p-skeleton width="100%" height="600px" styleClass="rounded-2xl"></p-skeleton>
      </div>
    </div>
  </section>
  } @else {
  <app-contact-us-sec></app-contact-us-sec>
  }
</section>
