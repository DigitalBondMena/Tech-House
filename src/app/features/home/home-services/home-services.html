<section>
    <app-section-title [title]="servicesTitle" customClass="flex justify-center mb-20">
    </app-section-title>


    <div class="grid grid-cols-1 lg:grid-cols-5 container mx-auto lg:px-20 gap-10">


        <!-- Right Column -->
        <div class="col-span-1 lg:col-span-2 flex flex-col items-center lg:items-end relative">
            @if (services.length > 0) {
                <!-- First Image (service 0) - Right side -->
                <div class="card py-10 service-card relative z-10">
                    @if (getResponsiveImage(services[0]?.image)) {
                        <img [ngSrc]="getResponsiveImage(services[0]?.image)" [alt]="services[0]?.title" width="600" height="400" class="service-img w-full mb-4 rounded-2xl " #imgEl>
                    }
                </div>
            }

            @if (services.length > 1) {
                <!-- First Title (service 1) - Right side -->
                <div class="title h-[350px] flex items-center justify-end text-lg lg:text-4xl font-bold text-[#940000] relative z-0" #titleRight1>
                    <h3 class="service-title  px-4 relative z-20">{{ services[1]?.title }}</h3>
                    <div class="absolute inset-0  left-[-100%] z-10" #titleBgRight1></div>
                </div>
            }

            @if (services.length > 2) {
                <!-- Second Image (service 2) - Right side -->
                <div class="card py-10 service-card relative z-10">
                    @if (getResponsiveImage(services[2]?.image)) {
                        <img [ngSrc]="getResponsiveImage(services[2]?.image)" [alt]="services[2]?.title" width="600" height="400" class="service-img w-full mb-4 rounded-2xl" #imgEl>
                    }
                </div>
            }

            @if (services.length > 3) {
                <!-- Second Title (service 3) - Right side -->
                <div class="title h-[350px] flex items-center justify-end text-lg lg:text-4xl font-bold text-[#940000] relative z-0" #titleRight2>
                    <h3 class="service-title  px-4 relative z-20">{{ services[3]?.title }}</h3>
                    <div class="absolute inset-0  left-[-100%] z-10" #titleBgRight2></div>
                </div>
            }
        </div>


        <!-- العمود النص -->
        <div class="hidden lg:flex lg:col-span-1 flex-col items-center h-full relative">
            <div class="w-[1.6px] bg-linear-rev h-full mx-auto rounded-full"></div>


            <div class="loader absolute -top-5">
                <span class="pulse pulse-1"></span>
            </div>


            <div class="loader absolute top-1/4">
                <span class="pulse pulse-1"></span>
            </div>


            <div class="loader absolute top-1/2">
                <span class="pulse pulse-1"></span>
            </div>


            <div class="loader absolute top-3/4">
                <span class="pulse pulse-1"></span>
            </div>
        </div>


        <!-- Left Column -->
        <div class="col-span-1 lg:col-span-2 flex flex-col-reverse lg:flex-col items-center lg:items-start relative">
            @if (services.length > 0) {
                <!-- First Title (service 0) - Left side -->
                <div class="title h-[350px] flex items-center justify-start text-lg lg:text-4xl font-bold text-[#940000] relative z-0" #titleLeft1>
                    <h3 class="service-title  px-4 relative z-20">{{ services[0]?.title }}</h3>
                    <div class="absolute inset-0  right-[-100%] z-10" #titleBgLeft1></div>
                </div>
            }

            @if (services.length > 1) {
                <!-- First Image (service 1) - Left side -->
                <div class="card py-10 service-card relative z-10">
                    @if (getResponsiveImage(services[1]?.image)) {
                        <img [ngSrc]="getResponsiveImage(services[1]?.image)" [alt]="services[1]?.title" width="600" height="400" class="service-img w-full mb-4 rounded-2xl" #imgEl>
                    }
                </div>
            }

            @if (services.length > 2) {
                <!-- Second Title (service 2) - Left side -->
                <div class="title h-[350px] flex items-center justify-start text-lg lg:text-4xl font-bold text-[#940000] relative z-0" #titleLeft2>
                    <h3 class="service-title  px-4 relative z-20">{{ services[2]?.title }}</h3>
                    <div class="absolute inset-0  right-[-100%] z-10" #titleBgLeft2></div>
                </div>
            }

            @if (services.length > 3) {
                <!-- Second Image (service 3) - Left side -->
                <div class="card py-10 service-card relative z-10">
                    @if (getResponsiveImage(services[3]?.image)) {
                        <img [ngSrc]="getResponsiveImage(services[3]?.image)" [alt]="services[3]?.title" width="600" height="400" class="service-img w-full mb-4 rounded-2xl" #imgEl>
                    }
                </div>
            }
        </div>
    </div>


    <div class="flex justify-center">
        <app-app-button [btnText]="btnText"
            customClass="mt-20 ps-7 pe-3 py-4 bg-[#ED2924] text-white rounded-full flex items-center justify-center transition duration-300">
        </app-app-button>
    </div>
</section>